"use strict";function render(){renderMode=function(){for(var e=document.getElementsByName("renderLayers"),t=0;t<e.length;t++)if(e[t].checked)return e[t].value}();var e=function(){for(var e=document.getElementsByName("imageType"),t=0;t<e.length;t++)if(e[t].checked)return e[t].value}();if(canvas=document.getElementById("Canvas"),ctx=canvas.getContext("2d"),ctx.canvas.width=Math.floor(.8*window.innerWidth)-30,ctx.canvas.height=window.innerHeight-30,width=Math.floor(ctx.canvas.width/SQUARE_SIZE)-1,height=Math.floor(ctx.canvas.height/SQUARE_SIZE)-1,canvas.getContext)switch(e){case"spiral":spiral();break;case"triangle":triangle();break;case"rectangle":rectangle()}else alert("Canvas is not supported in your browser.")}function spiral(){function e(e){switch(e){case n.RIGHT:return n.UP;case n.UP:return n.LEFT;case n.LEFT:return n.DOWN;case n.DOWN:return n.RIGHT}}var t,r,n={RIGHT:0,UP:1,LEFT:2,DOWN:3},a=n.RIGHT,i=0,c=0,o=0,d=0,h=Math.min(width,height),s=h*h;for(t=r=Math.floor(h/2);++d<=s;){switch(renderPixel(d,t,r),a){case n.RIGHT:t++;break;case n.UP:r--;break;case n.LEFT:t--;break;case n.DOWN:r++}c<i?c++:(c=0,o++,a=e(a),2===o&&(o=0,i++))}}function triangle(){var e=Math.floor(width/2),t=1,r=0,n=2*height>width?width/2:height;for(n*=n;++r<=n;)renderPixel(r,e,t),r<=t*t-1?e++:(e-=2*t-1,t++)}function rectangle(){for(var e=1,t=1,r=0;++r<=width*height;)renderPixel(r,e,t),r<t*width?e++:(e-=width-1,t++)}function renderPixel(e,t,r){var n=divisorCount(e);0===n?"composites"!==renderMode&&(ctx.fillStyle="#005e61",ctx.fillRect(t*SQUARE_SIZE,r*SQUARE_SIZE,SQUARE_SIZE,SQUARE_SIZE)):"primes"!==renderMode&&(ctx.fillStyle="#00F",ctx.beginPath(),ctx.arc(t*SQUARE_SIZE,r*SQUARE_SIZE,.1*n,0,2*Math.PI),ctx.fill())}function divisorCount(e){if(1==e)return 1;for(var t=0,r=Math.sqrt(e),n=2;n<=r;n++)e%n===0&&t++;return t}var SQUARE_SIZE=3,renderMode="",canvas="",ctx,width,height;window.onload=function(){var e=document.getElementById("renderButton");e.onclick=render,render()};